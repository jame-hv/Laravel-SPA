import{r as f,I as M,e as _,R as j,h as G}from"./app-BG4fwSx8.js";const k=(e,t,s,a)=>{var n,d,h,m;const o=[s,{code:t,...a||{}}];if((d=(n=e==null?void 0:e.services)==null?void 0:n.logger)!=null&&d.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);w(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(m=(h=e==null?void 0:e.services)==null?void 0:h.logger)!=null&&m.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},O={},C=(e,t,s,a)=>{w(s)&&O[s]||(w(s)&&(O[s]=new Date),k(e,t,s,a))},P=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},E=(e,t,s)=>{e.loadNamespaces(t,P(e,s))},A=(e,t,s,a)=>{if(w(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return E(e,s,a);s.forEach(o=>{e.options.ns.indexOf(o)<0&&e.options.ns.push(o)}),e.loadLanguages(t,P(e,a))},U=(e,t,s={})=>!t.languages||!t.languages.length?(C(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:s.lng,precheck:(a,o)=>{var n;if(((n=s.bindI18n)==null?void 0:n.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!o(a.isLanguageChangingTo,e))return!1}}),w=e=>typeof e=="string",W=e=>typeof e=="object"&&e!==null,J=(e,t)=>{const s=f.useRef();return f.useEffect(()=>{s.current=e},[e,t]),s.current},$=(e,t,s,a)=>e.getFixedT(t,s,a),X=(e,t,s,a)=>f.useCallback($(e,t,s,a),[e,t,s,a]),Y=(e,t={})=>{var R,L,v,z;const{i18n:s}=t,{i18n:a,defaultNS:o}=f.useContext(M)||{},n=s||a||_();if(n&&!n.reportNamespaces&&(n.reportNamespaces=new j),!n){C(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=(u,l)=>w(l)?l:W(l)&&w(l.defaultValue)?l.defaultValue:Array.isArray(u)?u[u.length-1]:u,c=[i,{},!1];return c.t=i,c.i18n={},c.ready=!1,c}(R=n.options.react)!=null&&R.wait&&C(n,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...G(),...n.options.react,...t},{useSuspense:h,keyPrefix:m}=d;let r=o||((L=n.options)==null?void 0:L.defaultNS);r=w(r)?[r]:r||["translation"],(z=(v=n.reportNamespaces).addUsedNamespaces)==null||z.call(v,r);const g=(n.isInitialized||n.initializedStoreOnce)&&r.every(i=>U(i,n,d)),F=X(n,t.lng||null,d.nsMode==="fallback"?r:r[0],m),S=()=>F,x=()=>$(n,t.lng||null,d.nsMode==="fallback"?r:r[0],m),[b,T]=f.useState(S);let p=r.join();t.lng&&(p=`${t.lng}${p}`);const I=J(p),N=f.useRef(!0);f.useEffect(()=>{const{bindI18n:i,bindI18nStore:c}=d;N.current=!0,!g&&!h&&(t.lng?A(n,t.lng,r,()=>{N.current&&T(x)}):E(n,r,()=>{N.current&&T(x)})),g&&I&&I!==p&&N.current&&T(x);const u=()=>{N.current&&T(x)};return i&&(n==null||n.on(i,u)),c&&(n==null||n.store.on(c,u)),()=>{N.current=!1,n&&(i==null||i.split(" ").forEach(l=>n.off(l,u))),c&&n&&c.split(" ").forEach(l=>n.store.off(l,u))}},[n,p]),f.useEffect(()=>{N.current&&g&&T(S)},[n,m,g]);const y=[b,n,g];if(y.t=b,y.i18n=n,y.ready=g,g||!g&&!h)return y;throw new Promise(i=>{t.lng?A(n,t.lng,r,()=>i()):E(n,r,()=>i())})};function B(e){const{t}=Y();return{t:f.useCallback(a=>a.startsWith(".")?t(`${e}${a}`):t(a),[e,t])}}export{B as u};
