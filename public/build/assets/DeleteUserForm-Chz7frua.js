import{r as d,S as v,j as e}from"./app-BG4fwSx8.js";import{u as D}from"./use-lang-CKlQLu1r.js";import{B as a}from"./button-yqLYAKCU.js";import{D as N,a as y,b,c as C}from"./dialog-CDo3FcXG.js";import{I as F}from"./input-Dgt2dD8u.js";import{L as S}from"./label-DQKRGwWf.js";import"./index-mFuCRuUu.js";import"./utils-DjqsqOe8.js";import"./index-BE_-yyf0.js";import"./index-C5hyw7Cl.js";import"./index-BGLdvqvq.js";import"./index-Ch0mQVsU.js";import"./x-CywMkkrx.js";import"./createLucideIcon-D720LfK-.js";function G({className:m=""}){const[p,n]=d.useState(!1),i=d.useRef(null),{data:u,setData:x,delete:f,processing:h,reset:l,errors:t,clearErrors:j}=v({password:""}),g=()=>{n(!0)},w=r=>{r.preventDefault(),f(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>o(),onError:()=>{var c;return(c=i.current)==null?void 0:c.focus()},onFinish:()=>l()})},o=()=>{n(!1),j(),l()},{t:s}=D("pages.profile.deleteUserForm");return e.jsxs("section",{className:`space-y-6 ${m}`,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium",children:s(".title")}),e.jsx("p",{className:"mt-1 text-sm",children:s(".description")})]}),e.jsx(a,{variant:"destructive",onClick:g,children:s(".button.deleteAccount")}),e.jsx(N,{open:p,onOpenChange:r=>!r&&o(),children:e.jsx(y,{children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs(b,{children:[e.jsx("h2",{className:"text-lg font-medium text-foreground",children:s(".title")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s(".description")})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"password",className:"sr-only",children:s("common.password")}),e.jsx(F,{id:"password",type:"password",name:"password",ref:i,value:u.password,onChange:r=>x("password",r.target.value),className:"w-full",autoFocus:!0,placeholder:s("common.password"),"aria-invalid":t.password?"true":"false"}),t.password&&e.jsx("p",{className:"text-sm text-destructive",children:t.password})]})}),e.jsxs(C,{children:[e.jsx(a,{variant:"outline",type:"button",onClick:o,children:s("common.close")}),e.jsx(a,{variant:"destructive",type:"submit",disabled:h,children:s(".button.deleteAccount")})]})]})})})]})}export{G as default};
